<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Saved KQL Queries</title>
</head>
<body>
    <h1>Saved KQL Queries</h1>

    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Cloud</th>
                <th>Log Type</th>
                <th>Filter</th>
                <th>KQL Query</th>
                <th>Created At</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="query : ${queries}">
                <td th:text="${query.id}">1</td>
                <td th:text="${query.cloud}">Azure</td>
                <td th:text="${query.logType}">Activity Logs</td>
                <td th:text="${query.filter}">status == 200</td>
                <td th:text="${query.kql}">Sample KQL</td>
                <td th:text="${#temporals.format(query.createdAt, 'yyyy-MM-dd HH:mm:ss')}">2025-05-13 12:00:00</td>
                <td>
                    <form th:action="@{/queries/delete/{id}(id=${query.id})}" method="post" 
                          onsubmit="return confirm('Are you sure you want to delete this query?');">
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>

    <br>
    <a th:href="@{/query}">Back to Query Builder</a>
</body>
</html>
<!-- This is a Thymeleaf template for displaying saved KQL queries in a table format. 
     It includes a form for deleting each query and a link to go back to the query builder. -->
<!-- The table displays the ID, cloud provider, log type, filter, KQL query, creation date, and an action button for each saved query. -->
<!-- The 'th:each' attribute is used to iterate over the list of queries passed from the controller. 
     The 'th:text' attributes are used to dynamically insert values into the HTML elements. -->
      